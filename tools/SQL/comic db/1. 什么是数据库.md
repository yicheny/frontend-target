[TOC]

# 为什么需要数据库？
> 注：本篇故事改自《数据库系统概念》

在数据库出现以前，是通过文件系统的形式进行数据管理的。

> 这种没有关联的文件，也被叫做**平面文件**

在20世纪60年代时，大学系统需要保存许多信息，首先学校里有很多课程，假设安排了数学、语文、计算机三门课程，如图

![](https://pic.imgdb.cn/item/61a1d58b2ab3f51d910f9f1c.jpg)

然后学生们可以自由选择课程，在这三门课程中，学生可以任意选择某几门，假设现在有个学生叫做白智慧，她三门课都选了，还有个学生叫做朱培宇，他选择了数学和计算机课程，如图

![](https://pic.imgdb.cn/item/61a1d6e52ab3f51d910fff0e.jpg)

这里出现了第一个问题：**数据冗余**，可以看到同样的信息出现了多份，每个学生的信息可不只是名字，还包含照片、班级、籍贯、出生年月等信息，对于存储空间造成了很大的浪费。

假设现在白智慧的信息发现登记错误了，她的性别被登记为“男”。

这可了不得，学校要尽快处理信息，那么需要修改多份数据，如图

![](https://pic.imgdb.cn/item/61a1d8092ab3f51d911074bb.jpg)

这里暴露了很多问题：
1. 需要重复修改多份，效率低

![](https://pic.imgdb.cn/item/61a1dbd62ab3f51d9111be1b.jpg)

2. 可能有遗漏的修改，风险高

![](https://pic.imgdb.cn/item/61a1dc532ab3f51d9111e058.jpg)

3. 数据不一致，比如说我刚刚改了数学文件的白智慧信息，那么此时数学文件和其他两张文件记录的信息就不一致了，此时如果有人从不同的文件里面获取白智慧的信息，其结果是不一致的。

![](https://pic.imgdb.cn/item/61a1ddd82ab3f51d91125cfe.jpg)

数据修改完成后。现在学校领导有个新的需要，他需要拿到学校里所有课时在60以上的学生信息。

麻烦的是之前没有这张文件，也没有总的课时信息，只有记录学生对应某门课的信息。

所以我需要将不同文件的信息汇总起来，比如说：
- 白智慧：数学20课时，语文21课时，计算机20课时，总课时61
- 朱培宇：数学20课时，计算机20课时，总课时40
  
从汇总文件里取出白智慧这一类满足需求的学生信息再组成一份新文件【没有中间文件，直接生成这张文件也一样，有张中间文件的话，对于另一些需求会简单一些，比如说如果需要总课时再30-50之间的学生信息这类的，就不需要在此进行信息汇总，有时候中间文件是需要的】

这里暴露了两个问题：
1. 数据孤立，学生的信息散落在不同文件中
2. 难以应对变化，数据结构死板

## 小结
没有数据库系统以前，使用文件系统的问题：
1. 数据冗余重复
   1. 效率低
   2. 容易出错
2. 数据不一致
3. 数据孤立
4. 难以应对变化，结构死板

这些问题的解决方案就是数据库