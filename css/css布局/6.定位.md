[TOC]

# 定位的应用场景
学习定位之前需要掌握正常流布局。

定位设计的目的是为了正常流布局之外，调整一些元素的位置，比如说：
- 微调元素位置
- 元素总是浮动出现在其他元素的周围
- 元素始终停留在浏览器窗口的相同位置
- ...

# 使用定位
## `static` 
默认值，按正常流定位

## `relative` 
元素处于正常流，占据正常流的空间，可以调整它的位置

## `absolute` 
元素脱离正常流，不过有些有意思的现象值得观察：
1. 如果只设置`position:absolute`而设置其他相关属性，那么元素会留在正常流应该放置的位置上，但是不属于正常流层级
1. 如果不设置`top`、`left`、`bottom`、`right`，元素位置受父元素`margin`影响
1. 元素自身的`margin`设置有效

### 定位上下文
`absolute`的位置取决于其**定位上下文**
- 优先选择父系元素中最近的`position`值不是`static`的元素
- 如果都是`static`，则选择初始块容器作为定位上下文【准确来说不是`html`，`html`被包含在初始容器块中，初始块容器有着和浏览器视窗一样的尺寸，不过如果理解成`html`其实也可以，因为表现上是一致的，】

## `z-index`
默认情况下，定位元素的`z-index`是`auto`,实际上是`0`。

## `fixed`
相对视窗的定位，固定定位固定元素相对于浏览器视窗本身

## `sticky`
在阈值达到前会表现得和`static`一样，到达阈值后会和`fixed`表现一致。

阈值通过`top`、`left`、`right`、`bottom`等设置，比如：
```css
.positioned {
  position: sticky;
  top: 30px;
  left: 30px;
}
```

`position: sticky` 的另一种有趣且常用的用法，是创建一个滚动索引页面。每次滚动到顶部，后面的标题会停留到页面顶部，原有的标题就像被替换掉一样。【实时上是被覆盖了】