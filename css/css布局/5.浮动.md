[TOC]

# `float`的背景
`float`属性是`css2.1`引入的，最初是为了在成块的文本中浮动图像，但是很快开发者意识到`float`不仅可以用于图像，任何元素都可以浮动，可以利用浮动完成一些布局。

# `float`使用场景
利用浮动可以很容易实现多列布局，原本正常流布局中只有一列信息，而浮动可以让多列信息进行展示。

`float`最常用的场景就是实现两列或三列布局。事实上，因为`float`被非设计出来专门用于多列布局的，所以使用`float`进行布局会遇到一些奇怪的副作用，这是开发者需要注意的。

# 清除浮动
使用浮动最典型的一个问题就是，其他在正常流中显示的元素会环绕浮动元素进行显示。

比如说：
```html
<div class='left'>
    left<br/>
    left
</div>
<div class='right'>right</div>
<div class='footer'>footer</div>
```

其中`left`和`right`分别设置了左右浮动，我们可以看到`footer`会浮动到右边，而且如果为其设置背景，则左右浮动的区域都在`footer`背景范围内。

如果我们希望`footer`不围绕这两列浮动，可以为`footer`清除浮动：
```css
.footer{
    clear:both;
}
```

# 浮动带来的问题
## 宽度难以计算
在浮动多列布局中，我们常常使用百分数来设置宽度，比如说现在有两列，每一列设置宽度50%，然而现在我们需要设置border、padding、margin等内容，一旦设置这些属性，整体宽度就会超过100%，那么原有的多列布局会被破坏。

针对这个问题，有两个手段解决
- 使用`box-sizing:border-box` 这是推荐方案
- 手动调整列宽，比如说将列宽调整至48%以允许设置内边距和边界宽度，这个技术并不精确，因为不能保证父宽度，我们只能尽可能流出足够空隙，这使得布局的展示不再精确。

## 非浮动元素对浮动元素外边距无效
比如说现在布局是这样的
```
left  right
  footer
````
`left`、`right`分别是左右浮动，`footer`是正常流布局，现在如果我们为`footer`设置`margin:12px`会发现这个设置是无效的，原因在于：
1. 浮动元素的有效高度为0
1. 其次，非浮动元素的外边距不能用于它们和浮动元素之间来创建空间

我们怎么解决这个问题？
```txt
left    right
  clearFix
   footer
```
加一个`clearFix`元素。

## 多列保持相同高度
浮动可以同时展示多列，默认情况下列的高度是不同的。

多列具有相同高度展示效果会更好，有一些方法可以实现多列背景高度相同的效果：
1. 设置相同的固定高度，并设置`overflow:auto`（这种做法并不理想，因为不同显示器的高度是不同的）
1. 将列的背景颜色设置和父元素相同，这样用户看起来高度是一致的，这是推荐方案，也是float布局下的最好方案
1. 伪列（faux columns）技术，将背景和边界从实际列中提取出来，在父元素上画一个伪造背景，缺陷是不能处理列边界。详见[伪列技术](https://alistapart.com/article/fauxcolumns/)