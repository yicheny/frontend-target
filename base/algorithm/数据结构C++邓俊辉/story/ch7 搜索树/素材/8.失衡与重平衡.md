
# 示例
开始我们有一棵二叉树：

![](https://pic.imgdb.cn/item/6234581f5baa1a80ab2410ba.jpg)

通过观察高度可知这是一棵AVL树：

![](https://pic.imgdb.cn/item/623458475baa1a80ab244bc9.jpg)

我们对其进行插入或删除操作：

注：黄色节点表示失衡

![](https://pic.imgdb.cn/item/623458815baa1a80ab248922.jpg)

观察高度，会发现高度失衡：

![](https://pic.imgdb.cn/item/623458bb5baa1a80ab24c780.jpg)

# 分析
可以发现，失衡节点都是操作节点的祖先。

所以我们只需要沿`x->parent`指针逐层向上处理失衡即可。

将失衡调整为平衡的过程我们称之为重平衡。

```c++
#define tallerChild(x) ( \ 
   stature( (x)->lc ) > stature( (x)->rc ) ? (x)->lc : ( /*左高取左*/ \ 
   stature( (x)->lc ) < stature( (x)->rc ) ? (x)->rc : ( /*右高取右*/ \ 
   IsLChild( * (x) ) ? (x)->lc : (x)->rc /*等高：与父亲x同侧者优先*/ \ 
   ) \ 
   ) \ 
) 
```