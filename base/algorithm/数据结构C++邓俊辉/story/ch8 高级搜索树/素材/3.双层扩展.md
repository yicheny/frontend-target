
为克服上述伸展调整策略的缺陷，一种简便且有效的方法就是：将逐层伸展改为双层伸展。

具体而言：每次都从当前节点`v`向上追溯两层，并根据其父亲`p`以及祖父`g`的相对
位置，进行相应的旋转。

存在3种情况，下面分别介绍处理方法。

# zig-zig/zag-zag
都在同一侧，则可使用`zig-zig`或`zag/zag`策略

如果一开始都在左侧，使用`zig-zig`进行调整，我们看一下调整过程：

> 以下黄色节点表示变换轴点

![zig-zig](https://pic.imgdb.cn/item/6238449f27f86abb2a6dd4d8.jpg)

如果都在右侧，则使用`zag-zag`方案，过程和上面恰好相反

![zag-zag](https://pic.imgdb.cn/item/623848d627f86abb2a8488e4.jpg)

# zig-zag/zag-zig
`g`、`p`同侧，`v`在另一侧的场景。

`g`、`v`在左侧，`v`在右侧，则使用`zig-zag`

> 其实原则始终很简单，左->右使用zig，右->左使用zag

![zig-zag](https://pic.imgdb.cn/item/623844f027f86abb2a6fbc4f.jpg)

然后我们看一下另一种情况。

`g`、`v`在右侧，`v`在左侧，则使用`zag-zig`

![zag-zig](https://pic.imgdb.cn/item/6238491527f86abb2a85eee8.jpg)