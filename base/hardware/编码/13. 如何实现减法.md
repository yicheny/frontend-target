[TOC]

# 十进制减法
首先看一个减法运算：
```
  253
- 176
=  77
```

我们通用的减法使用的是“借位”机制，这是一个很麻烦的机制，我们设计电路会绕开这个机制实现减法。

## 求补
标准减法公式：`被减数 - 减数 = 差`

### 减数求补
我先用一个例子演示补位机制：求`253-176`的差

1. 求`176`的补数得`823`【每位拿9对减】
2. `253+823=1076`
3. `1076+1=1077`
4. 去除最高位`1`，结果是`77`

分别说一下这几步得意义：
1. 相当于`999-176=823`
2. `253+823=1076`
3. `1076+1=1077`
4.  相当于`1077-1000=77`

我们将以上运算综合起来看一下：
```
253 - 176
= 253 - (176 + 1000 - 1000)
= 253 - (176 + 1000 - 999 -1)
= 253 + (999 + 1 - 176 -1000) //注意符号变化
= 253 + (999 - 176 + 1 - 1000)
= 253 + (823 + 1 - 1000)
= (253 + 823 +1) - 1000
= 1077 - 1000
= 77
```

### 被减数求补
我们也可以对被减数补码得到结果。

1. `253`补码得到`746`
2. `746+176=922`
3. `922`补码得到`77` 

推导过程：
```
253 - 176
= (999-999) + (253 - 176)
= 999 - 999 + 253 - 176
= 999 - (999 - 253 + 176) //注意这一步变换
= 999 - ((999 - 253) + 176) 
= 999 - (746 + 176)
= 999 - 922
= 77
```

以上两种方式都可以避开借位机制。

第二种方式是帕斯卡计算机使用的补码方式。

我们现在使用第一种方式进行电路设计。

不过在此之前，我需要说一下被减数小于减数的情况。

## 负数
被减数小于减数，结果为负。

```
176-253
= 176 + 746 + 1 - 1000
= 922 - 999
= -77
```

我们是怎么得到`-77`的？

分成两步：
1. 减数被减数互换，`999-922`得`77`
2. 加负号，得到`-77`

# 二进制
二进制运算与十进制运算并无本质不同。

不过，二进制求补更简单，因为二进制只有`0`、`1`，所以不需要使用减法，直接将`0`、`1`互换即相当于求补。

因此，二进制求补也被叫做求相反数或反码。

我们在之前已经了解到，使用反向器可以实现这个目的。

# 电路设计
> 注：CP表示求反操作

和十进制类似的运算流程
``` 
=> 253-176
   11111101(253)  
-  10110000(176)

=> 减数取反
   01001111(79)

=> 被减数 + 减数反码
    11111101(253)
    01001111(79)
=  101001100(352)

=> 352+1
  1010001100
+ 0000000001
= 1010001101

=> 抹除最高位
  1010001101
- 1000000000
= 0010001101(77)
```

对于结果为负数的运算流程
``` 
  10110000(176)
- 11111101(253)  

=> 被减数 + 减数反码
  10110000(176)
+ 00000010(2)
= 10110010(178)
```
