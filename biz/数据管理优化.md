[TOC]

# ÁóõÁÇπ
ËøôÈáå‰ª•‰∏Ä‰∏™ÊäΩË±°Âú∫ÊôØËØ¥ÊòéÁóõÁÇπ„ÄÇ

Áé∞Âú®Êàë‰ª•‰∏Ä‰∏™ÊúÄÂéüÂßãÁöÑÁªÑ‰ª∂ÂÅöËØ¥Êòé„ÄêÊ≤°ÊúâÂ∞ÅË£ÖÈáçÂ§ç‰ª£Á†Å„Äë
```js
function App(props){
    const [state,setState] = useState({data:null,loading:true,error:null})
    
    useEffect(()=>{
        setState({data:null,loading:true,error:null})
        
        fetch(url,id)
        .then((res)=>{
            setState({data:res.data,loading:false,error:null})
        })
        .catch((e)=>{
            setState({data:null,loading:false,error:e.message})
        })
    },[doFetch,props.id]);
    
    return <>
        loading 
        ? <Loader/>
        : error 
        ? <Error/>
        : <Children/>
    </>
}
```
ÂÆ°ËßÜ‰∏Ä‰∏ãËøô‰∏™ÁªÑ‰ª∂ÔºåÂèØ‰ª•ÁúãÂà∞Âì™‰∫õÈóÆÈ¢òÔºü„ÄêÈúÄË¶ÅËØ¥‰∏Ä‰∏ãÁöÑÊòØÔºåÂáΩÊï∞ÂºèÁªÑ‰ª∂Â∑≤ÁªèÊòØÂÅö‰∫Ü‰ºòÂåñ‰∫ÜÔºåÂ¶ÇÊûúÊòØÁ±ªÁªÑ‰ª∂ÂÜôÊ≥ïÊõ¥È∫ªÁÉ¶ÔºåÂõ†‰∏∫ÈúÄË¶ÅÂú®`DidMount`Èò∂ÊÆµÂä†ËΩΩ‰∏ÄÊ¨°ÔºåÂú®`DidUpdate`‰∫∫Â∑•Âà§Êñ≠Âπ∂ËßÜÊÉÖÂÜµËøõË°åÂä†ËΩΩÔºåËøôÁßç‰∫∫Â∑•Âà§Êñ≠‰æùËµñÁöÑÊÉÖÂÜµÊòæÁÑ∂ÊòØ‰∏çÈù†Ë∞±ÁöÑÔºåÁÑ∂ÂêéÂæàÊòéÊòæ‰∏ÄÁÇπÊòØÁõ∏ÂêåÈÄªËæëÊàñËÄÖËØ¥‰ª£Á†ÅÂú®‰∏çÂêåÁöÑÁîüÂëΩÂë®ÊúüÂá∫Áé∞‰∫ÜÔºåËøôÁßçÂàÜÊï£‰πüÊòØ‰∏ÄÁßçË¥üÊãÖ„Äë
1. üëé**ÈáçÂ§çÁöÑÊ®°Êùø‰ª£Á†Å**ÔºöÂÆûÈôÖÂºÄÂèë‰∏≠Êàë‰ª¨‰ºöÂèëÁé∞ËØ∑Ê±ÇÊï∞ÊçÆÁöÑÁõ∏ÂÖ≥Â§ÑÁêÜÊòØÁõ∏ÂêåÁöÑÔºå‰∏çÂêåÁöÑÂú∞ÊñπÂú®‰∫éËØ∑Ê±ÇÁöÑÂèÇÊï∞ÔºàËøô‰∏™‰πüÂæàÂÆπÊòìÊäΩÁ¶ªÊàêÂÖ¨ÂÖ±ÊñπÊ≥ïÔºåÂÆûÈôÖ‰∏äÊàë‰ª¨È°πÁõÆÈáåÂ∑≤ÁªèÊäΩÁ¶ª‰∫Ü„Äë
1. üëé**Êï∞ÊçÆÂíåUIËÄ¶Âêà**ÔºöÊï∞ÊçÆÊòØÂú®ÁªÑ‰ª∂ÂÜÖÈÉ®Ëé∑ÂèñÁöÑÔºåËøôÂ∞±ËÆ©ÁªÑ‰ª∂ÁöÑÂ§çÁî®ÂèòÂæóÂõ∞ÈöæÔºåÊØîÂ¶ÇËØ¥Áé∞Âú®Â≠òÂú®‰∏çÂêåÁªÑ‰ª∂‰æùËµñÁõ∏ÂêåÊï∞ÊçÆÁöÑÊÉÖÂÜµÔºåÈÇ£‰πàËøôÁßçÂÜôÊ≥ïÂ∞±‰ºöÂá∫Áé∞ÈáçÂ§çÁöÑË∞ÉÁî®„ÄÇÔºàËøôÁßçÊÉÖÂÜµÂÆ¢ËßÇÂ≠òÂú®ÔºåÂú®È°πÁõÆÈáåÊàëÁúãÂà∞ËøáÈ°µÈù¢È¶ñÊ¨°Âä†ËΩΩËØ∑Ê±Ç‰∫Ü6Ê¨°ÂÆåÂÖ®Áõ∏ÂêåÁöÑÊé•Âè£Ôºâ
1. üëé**Á≥üÁ≥ïÁöÑ‰∏âÂÖÉË°®ËææÂºè**ÔºöËøôÈáåÁúã‰ººÂè™Êúâ‰∏Ä‰∏™ËøîÂõûÔºåÂÆûÈôÖ‰∏äÊúâ‰∏âÁßçÊÉÖÂÜµÔºåÂÆÉÈúÄË¶ÅÊâøÊâøÊãÖ‰∏â‰ªΩË¥£‰ªªÔºåÈòÖËØªÂíåÁª¥Êä§ÁöÑÊàêÂäüÂæàÈ´ò

## Á¨¨‰∏ÄÊ¨°‰ºòÂåñÔºöÊäΩÁ¶ªÈáçÂ§ç‰ª£Á†Å
Ëøô‰∏™‰ºòÂåñÊòØÊúÄÂ∏∏ËßÅÁöÑÔºåÊàë‰ª¨Áé∞Âú®ÊäΩÁ¶ª‰∏Ä‰∏™`useFetch`ÊñπÊ≥ï

```js
function useFetch(){
    const [state,setState] = useState({data:null,loading:true,error:null})
    
    const doFetch = useCallback((url,id)=>{
        setState({data:null,loading:true,error:null})

        fetch(url,id)
        .then((res)=>{
            setState({data:res.data,loading:false,  error:null})
        })
        .catch((e)=>{
            setState({data:null,loading:false,error:e.  message})
        })
    },[]);

    return {...state,doFetch}
}
```

ÁÑ∂ÂêéÊàë‰ª¨Âú®Ê≠§Âü∫Á°Ä‰∏äÂÜçÊ¨°ÂÆûÁé∞ÂéüÊù•ÁªÑ‰ª∂Ôºö
```js
function App(props){
    const {data,loading,error,doFetch} = useFetch();
    
    useEffect(() => {
        if(props.id) doFetch(url,props.id);
    },[doFetch,props.id])
    
    return <>
        {
            loading 
            ? <Loader/>
            : error
            ? <Error/>
            : <Children/>
        }
    </>
}
```
ÂèØ‰ª•ÁúãÂà∞Ôºå‰ª£Á†ÅÂπ≤ÂáÄ‰∫ÜÂæàÂ§öÔºåÁÑ∂ÂêéÊàë‰ª¨Ëß£ÂÜ≥Âè¶Â§ñ‰∏§‰∏™ÈóÆÈ¢ò„ÄÇ

## Á¨¨‰∫åÊ¨°‰ºòÂåñ
ËøôÊòØÊú¨Ê¨°‰ºòÂåñÊúÄÈáçË¶ÅÁöÑÈÉ®ÂàÜ„ÄÇ

È¶ñÂÖàËØ¥‰∏Ä‰∏ãËøôÈÉ®ÂàÜÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºö
1. Êï∞ÊçÆÂíåUIËÄ¶ÂêàÂà∞‰∏ÄËµ∑ÔºåÂØºËá¥UIÁöÑÈÉ®ÂàÜ‰∏çËÉΩÁã¨Á´ã‰ΩøÁî®
1. Êï∞ÊçÆÁöÑÂ§çÁî®ÈóÆÈ¢ò

ÂíåUIÁöÑÈóÆÈ¢òÊòØÊØîËæÉÂ•ΩÁöÑËß£ÂÜ≥ÔºåÊØîËæÉÁõ¥Êé•ÁöÑÊñπÊ°àÊòØÂ∞ÜÁªÑ‰ª∂ÂÅöÊàêÂÆåÂÖ®ÂèóÊéßÁªÑ‰ª∂Ôºå‰∏çËøáËøôÁßçÊñπÊ°àÁöÑÈóÆÈ¢òÔºåÊï∞ÊçÆÊîæÂú®Âì™ÈáåÂ§ÑÁêÜÔºü
### Ëß£ÂÜ≥ËÄ¶Âêà
#### Áõ¥Êé•Âú®Áà∂ÁªÑ‰ª∂Ëé∑ÂèñÊï∞ÊçÆ
ËøôÁßçÊñπÊ°àÁöÑÈóÆÈ¢òÂú®‰∫éÔºöÊòéÊòéÊòØÂ≠êÁªÑ‰ª∂ÈúÄË¶Å‰ΩøÁî®ÁöÑÊï∞ÊçÆÔºå‰∏∫‰ªÄ‰πàË¶ÅÂú®Áà∂ÁªÑ‰ª∂Â§ÑÁêÜÔºü

ËøôÁßçÂÅöÊ≥ï‰ºö‰ΩøÂæóÁà∂ÁªÑ‰ª∂ÊâøÊãÖ‰∏çËØ•ÊâøÊãÖÁöÑË¥£‰ªª„ÄÇÂÅáËÆæÁà∂ÁªÑ‰ª∂ÁöÑÂ≠êÁªÑ‰ª∂ÊØîËæÉÂ§öÔºåÂÅáËÆæÁé∞Âú®Áà∂ÁªÑ‰ª∂ÊúâÂçÅ‰∏™Â≠êÁªÑ‰ª∂ÔºåÈÇ£‰πàÈúÄË¶ÅÂú®Áà∂ÁªÑ‰ª∂‰∏≠ËøõË°åÂçÅÁßçÊï∞ÊçÆÁöÑËé∑ÂèñÔºüÂú®Âä†‰∏äÁà∂ÁªÑ‰ª∂Ëá™Â∑±ÁöÑÁä∂ÊÄÅÂíåÈÄªËæëÔºåÁà∂ÁªÑ‰ª∂‰ºöÂèòÂæóÈùûÂ∏∏Â§çÊùÇÂíåÈöæ‰ª•Áª¥Êä§ÔºåËÄå‰∏îÊàë‰ª¨‰øÆÊîπÂÖ∂‰∏≠‰ªªÊÑè‰∏Ä‰∏™Â≠êÁªÑ‰ª∂ÁöÑÊï∞ÊçÆËé∑ÂèñÈÄªËæëÔºåÈÉΩ‰ºöÂΩ±ÂìçÂà∞ÂÖ∂‰ªñÊâÄÊúâÂ≠êÁªÑ‰ª∂‰ª•ÂèäÁà∂ÁªÑ‰ª∂Êú¨Ë∫´ÔºåÂõ†‰∏∫Ëøô‰∫õÈÄªËæëÂíåÁä∂ÊÄÅÂ§ÑÁêÜÂêå‰∏Ä‰∏™‰∏ä‰∏ãÊñá‰∏≠„ÄÇ

ÂÆûÈôÖ‰∏äÔºåËøôÁßçÊÉÖÂÜµÂú®È°πÁõÆ‰∏≠‰πüÊòØÂÆ¢ËßÇÂ≠òÂú®ÁöÑÔºåËÄå‰∏îË∂äÊòØÂ§çÊùÇÁöÑÈ°µÈù¢Ë∂äÊòØÂèØËÉΩÂá∫Áé∞ËøôÁßçÊÉÖÂÜµ„ÄÇ

#### ÂçïÁã¨ÊäΩÁ¶ª‰∏ÄÂ±ÇËé∑ÂèñÊï∞ÊçÆ
Â¶ÇÊûúÊòØÁ±ªÁªÑ‰ª∂Ôºå‰ΩøÁî®ËøôÁßçÊñπÊ°àÂèØËÉΩÊØîËæÉÂ∏∏ËßÅÔºåËÄå‰∏îÂä†‰∏äË£ÖÈ•∞Âô®ËØ≠Ê≥ïÔºåÂΩ¢ÊàêÊñ∞ÁªÑ‰ª∂‰πüÁÆÄÂçïÔºå‰∏Ä‰∏™ÁªÑ‰ª∂Áî®‰∫éËé∑ÂèñÊï∞ÊçÆÔºå‰∏Ä‰∏™ÁªÑ‰ª∂Áî®‰∫éÊ∏≤Êüì„ÄÇÊúâ‰∫õÊÉÖÂÜµ‰∏ãËøôÊòØ‰∏Ä‰∏™‰∏çÈîôÁöÑÊñπÊ≥ï„ÄêÂ¶ÇÊûúÊï∞ÊçÆ‰∏çÈúÄË¶ÅÂ§çÁî®ÁöÑËØù„Äë

ËøôÁßçÂÅöÊ≥ïÂú®ÁªÑ‰ª∂ÈìæÊù°‰∏ä‰ºöÂ¢ûÂä†‰∏ÄÊù°Ôºå‰∏çËøáËÅåË¥£Êõ¥Ê∏ÖÊô∞ÔºåÁõÆÂâçÊàëËÆ§‰∏∫ËøôÁßçÂÅöÊ≥ï‰æùÊóßÊòØ‰ºòÁÇπÂ§ß‰∫éÁº∫ÁÇπÁöÑ„ÄêËøôÁßçÂÅöÊ≥ïÊòØË£ÖÈ•∞Âô®Ê®°Âºè„Äë

#### Â∞ÜÊï∞ÊçÆÊäΩÁ¶ªÊàêÂÖ¨ÂÖ±`hook`‰ΩøÁî®
ÂíåHOCÁªÑ‰ª∂ÂÖ∂ÂÆûÊúâÁùÄÂºÇÊõ≤ÂêåÂ∑•‰πãÂ¶ôÔºåÁº∫Èô∑‰πüÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ

### Â§çÁî®
#### `props`
ËøôÂ∫îËØ•ÊòØÊàë‰ª¨È°πÁõÆÁõÆÂâçÂ≠òÂú®ÊúÄÂ§öÁöÑÊñπÂºè‰∫ÜÔºå‰∏çËøáÂÆûÈôÖÊàëÁöÑÊÑüÂèóÊù•ËØ¥ÔºåÁª¥Êä§Ëµ∑Êù•ÂæàÊÅ∂ÂøÉ„ÄÇ

Â±ÇÂ±Ç‰º†ÈÄíÂ§™ÂΩ±ÂìçÂøÉÊÄÅ‰∫ÜÔºå‰∏ÄÊó¶Ë¶ÅÂ¢ûÂä†„ÄÅÂà†Èô§„ÄÅ‰øÆÊîπÊüê‰∏™`prop`ÔºåÈÉΩË¶ÅÂ§ÑÁêÜÂ•ΩÂá†Â±ÇÔºå‰∏ÄÊó¶Êüê‰∏ÄÂ±ÇÂ§ÑÁêÜÈÅóÊºè‰∫ÜÔºåÊï¥‰∏™ÈÄªËæëÂ∞±‰ºöÂá∫ÈóÆÈ¢ò„ÄÇ

ËÄå‰∏îÂè¶‰∏Ä‰∏™ÂÄºÂæóÂÖ≥Ê≥®ÁöÑÈóÆÈ¢òÊòØÔºåÂÅáËÆæ‰∫ßÁîüÊï∞ÊçÆÁöÑÁªÑ‰ª∂ÊòØAÔºå‰ΩøÁî®Êï∞ÊçÆÁöÑÁªÑ‰ª∂Êó∂FÔºåÈÇ£‰πàËøôÈáå‰ºöËøô‰πà‰º†ÈÄí`A->B->C->D->E->F`Ôºå‰∏≠Èó¥Ëøô‰∫õÁªÑ‰ª∂‰ºöÊé•Êî∂ÂæàÂ§ö‰∏Ä‰∫õËá™Â∑±Áî®‰∏çÂà∞ÁöÑ`prop`ÔºåËÄå‰∏îÈöèÁùÄÈìæÊù°ÁöÑÂ¢ûÈïøÂ§ö‰ΩôÁöÑ`prop`Ë∂äÂ§öÔºåÊØîÂ¶ÇËøôÈáåÁöÑ`B`ÊúâÂõõÂ±ÇÂ≠êÁ∫ßÔºåÂõõÂ±ÇÂ≠êÁ∫ßÁúüÊ≠£ÁöÑÂ≠êÂ≠ôÁªÑ‰ª∂ÂèØËÉΩÂ§öËææÊï∞ÂçÅÁßçÂèØËÉΩÔºå`B`ÁªÑ‰ª∂Ëøô‰∏™‰∏≠ËΩ¨Á´ôÂèØËÉΩÂè™ÈúÄË¶ÅÊé•Âèó‰∏§‰∏â‰∏™`props`ËøõË°å‰ΩøÁî®ÔºåÁÑ∂ËÄåÂÆûÈôÖ‰∏äÂÆÉÂç¥Êé•Âèó‰∫Ü‰∫åÂçÅÂ§ö‰∏™`props`ÔºåÁÑ∂ÂêéÂÆÉÁöÑ‰∏ã‰∏ÄÁ∫ß‰πüÊòØ‰∏ÄÊ†∑ÔºåÊé•Âèó‰∫ÜÂçÅÂá†‰∫åÂçÅ‰∏™`props`ÔºåËøôÁßçÂ∞±ÈùûÂ∏∏Ë¶ÅÂëΩÔºåÂøÉÊô∫Ë¥üÊãÖÂíåÁª¥Êä§ÊàêÊú¨ÈÉΩÊûÅÈ´ò„Äê‰∏çÊòØÂºÄÁé©Á¨ëÔºåÂÆûÈôÖÈ°πÁõÆ‰ª£Á†ÅÈáåÁúüÁöÑÊúâËøôÁßç‰º†ÈÄí‰∫Ü‰∫åÂçÅÂ§ö‰∏™`props`ÁöÑÔºåËÄå‰∏îËøò‰º†‰∫ÜÂ•ΩÂá†Â±Ç„Äë

#### `Context`
`Context`ÊòØ`React`ÂÆòÊñπÊé®Âá∫ÁöÑ‰∏ÄÁßçÊï∞ÊçÆÂ§çÁî®ÊñπÊ°àÔºà‰∏çËøá‰πüÊúâ‰∏Ä‰∫õË¥üÊãÖÔºâ

Êàë‰ª¨È¶ñÂÖàÁúã‰∏ÄÁßçÂÜôÊ≥ïÂú∫ÊôØÔºö
```js
function View(){
    const [count,setCount] = useState(0);
    const [header,setHeader] = useState('aaa');

    useEffect(()=>{
        setCount(c => c+1)
    },[header])

    const value = {
        data1:useData1(),
        data2:useData2(),
        data3:useData3()
        //...
    }
    return <Context.Provider value={value}>
        <Card header={header}>
            <Children count={count} setCount={setCount}>{/*Ê∑±Â±ÇÂµåÂ•ó*/}
        </Card>
    </Context.Provider>
}
```
Áúã‰∏Ä‰∏ãËøôÁßçÂÅöÊ≥ïÁöÑ‰ºòÁº∫ÁÇπÔºö
1. üëç **Êï∞ÊçÆËé∑ÂèñÁÆÄÂçï**ÔºöÊï∞ÊçÆ‰∏çÈúÄË¶ÅÂ±ÇÂ±Ç‰º†ÈÄíÔºåÂèØ‰ª•Âú®Â≠êÂ≠ôÁªÑ‰ª∂ÁßçÁõ¥Êé•Ëé∑Âèñ
2. üëé **È¶ñÊ¨°Âä†ËΩΩË¥üËç∑Â§ß**ÔºöËøôÁßçÂÅöÊ≥ïÁöÑÁ°ÆÂáèÂ∞ë‰∫ÜÊÄªÁöÑËØ∑Ê±ÇÊ¨°Êï∞ÔºåÊ≤°ÊúâÈáçÂ§çÁöÑËØ∑Ê±Ç„ÄÇ‰ΩÜÊòØÁé∞Âú®ËøôÁßçÂÅöÊ≥ïÔºåÈ¶ñÊ¨°‰ºöÂä†ËΩΩÊâÄÊúâÁöÑÊï∞ÊçÆÔºåÊúâÁöÑÊï∞ÊçÆÂèØËÉΩÊöÇÊó∂Ê≤°ÊúâÁî®Âà∞ÔºåÊØîÂ¶ÇËØ¥ÂÆÉÊòØÂú®ÂºπÁ™óÊâìÂºÄÂêé‰ΩøÁî®ÁöÑÊï∞ÊçÆÔºåÈÇ£‰πàËøô‰∏™Êó∂ÂÄôËØ∑Ê±ÇÊòØÂ§ö‰ΩôÁöÑË¥üÊãÖ„ÄÇ
3. üëé **Ê†πÁªÑ‰ª∂ËÅåË¥£ËøáÂ§ö**ÔºöËøôÈáåËôΩÁÑ∂Â∞ÜÊï∞ÊçÆËé∑ÂèñÁöÑÈÄªËæëÊãÜÂèñÂá∫Âéª‰∫ÜÔºå‰ΩÜÊòØËé∑ÂèñÂ≠êÂ≠ôÂÖ¨ÂÖ±Êï∞ÊçÆÁöÑÈÄªËæëËøòÊòØÁî±`View`Ëøô‰∏™Ê†πÁªÑ‰ª∂Ë¥üË¥£ÔºåËøôÁßçÂÅöÊ≥ïÂπ∂‰∏çÂêàÁêÜ„ÄÇ
   1. È¶ñÂÖàÊòØËÅåËÉΩÊ∑∑‰π±ÁöÑÈóÆÈ¢òÔºåËøôÈáåViewÁªÑ‰ª∂ÊâøÊãÖ‰∫Ü‰∏âÁßçËÅåË¥£ÔºöÊèê‰æõ‰∏ä‰∏ãÊñá„ÄÅËé∑ÂèñÂÖ¨ÂÖ±Êï∞ÊçÆ„ÄÅUIÁõ∏ÂÖ≥ÁöÑÁä∂ÊÄÅÂèäÈÄªËæëÔºå‰∏âÁßçËÅåË¥£Ê∑∑ÂêàÂà∞‰∏ÄËµ∑Â∞ÜÈÄ†ÊàêÈòÖËØªÂíåÁª¥Êä§‰∏äÁöÑÂõ∞Èöæ„ÄÇ
   2. ViewÊòØÊ†πÁªÑ‰ª∂ÔºåÂØπÂÖ∂ËøõË°åÁöÑÂ§ÑÁêÜÂΩ±ÂìçÂà∞ÁöÑÂÜÖÂÆπÊõ¥Âä†ÂπøÊ≥õÔºå‰πüÂ¢ûÂä†‰∫ÜÁª¥Êä§ÁöÑË¥üÊãÖ
4. üëé **ÂÖ¨ÂÖ±ÁªÑ‰ª∂ËÅåË¥£ÈîôËØØ**ÔºöÔºà‰∏ªË¶ÅÊòØÁ¨¨‰∏âÁÇπÔºâ
   1. Êèê‰æõ‰∏ä‰∏ãÊñá‰ø°ÊÅØÁöÑËÅåË¥£ÊòØÊúÄ‰∏äÂ±ÇÁöÑÔºåÂõ†‰∏∫ÂÆÉÂÖ¨ÂÖ±‰∏îËÑ±Á¶ª‰∏öÂä°ÔºåÈúÄË¶ÅÂçïÁã¨ÊäΩÁ¶ª‰∏Ä‰∏™`Provider`ÁªÑ‰ª∂Â§ÑÁêÜ
   2. `View`ÁöÑÈÄªËæëÁä∂ÊÄÅÂçïÁã¨‰∏ÄÂ±ÇÂ§ÑÁêÜ
   3. ËÄåÁ¨¨‰∏â‰ªΩË¥£‰ªªËé∑ÂèñÂÖ¨ÂÖ±Êï∞ÊçÆÂπ∂‰∏çÂ∫îËØ•Áî±ÂÖ¨ÂÖ±ÁªÑ‰ª∂Â§ÑÁêÜÔºåÂç≥‰ΩøÂçïÁã¨Áî®‰∏Ä‰∏™ÂÖ¨ÂÖ±ÁªÑ‰ª∂ËøõË°åÂÖ¨ÂÖ±Êï∞ÊçÆÁöÑËé∑ÂèñÔºåËøòÊòØ‰ºöÊúâÈóÆÈ¢òÔºåÂõ†‰∏∫Âú®È°∂Â±ÇÊòØÈöæ‰ª•È¢ÑÊñôÂà∞Â≠êÂ≠ôÂ±ÇÈÉ®ÂàÜÂØπÊï∞ÊçÆÁöÑ‰ΩøÁî®ÂíåÊéßÂà∂ÁöÑ„ÄÇ‰ª•Áé∞Âú®ÁöÑËøôÁßçÂÅöÊ≥ï‰∏æ‰æãÔºåÊàëÂú®È°∂Â±ÇÊèê‰æõ‰∏Ä‰∏™ÂÖ¨ÂÖ±Êï∞ÊçÆ`data1`ÔºåÂÆÉÂéüÊú¨ÊòØË¢´Âá†‰∏™ÁªÑ‰ª∂ÂÖ¨ÂÖ±‰ΩøÁî®ÁöÑÔºåÁé∞Âú®Âõ†‰∏∫‰∏öÂä°ÁöÑ‰∏çÊñ≠ÂèòÂåñÔºåËøôÂá†‰∏™ÁªÑ‰ª∂Ë¢´ÁßªÈô§‰∫ÜÊàñËÄÖ‰ΩøÁî®‰∫ÜÂÖ∂‰ªñÊï∞ÊçÆÔºå‰πüÂ∞±ÊòØËØ¥`data1`‰∏çÈúÄË¶Å‰∫ÜÔºåÈÇ£ÊàëÈ°∂Â±ÇÊÄé‰πàÁü•ÈÅìÂÆÉ‰∏çÈúÄË¶Å‰∫ÜÂë¢ÔºüÂèçËøáÊù•ÔºåÂ≠êÂ≠ôÂ±ÇÁî±Êï∞Áôæ‰∏äÂçÉ‰∏™ÁªÑ‰ª∂ÊûÑÊàêÔºåÂÖ∂‰∏≠‰∏Ä‰∏§‰∏™ÁªÑ‰ª∂ÈúÄË¶Å‰ΩøÁî®ÁöÑÊï∞ÊçÆÊîæ‰∏çÊîæÂà∞È°∂Â±ÇÔºüÊîæÔºåÂàôÈ°∂Â±ÇÂèØËÉΩÂ≠òÂú®Êï∞ÂçÅ‰∏äÁôæ‰∏™Êï∞ÊçÆÁöÑËé∑ÂèñÔºåÂéãÂäõÂæàÂ§ß‰∏îÊ≤°ÂøÖË¶Å„ÄÇ‰∏çÊîæÔºåÂàôÈáçÂ§çËØ∑Ê±ÇÁöÑÈóÆÈ¢ò‰ºöÂ≠òÂú®„ÄÇ

‰∏äÈù¢ËøôÁßç‰∏ä‰∏ãÊñáÊï∞ÊçÆÂÖ±‰∫´ÁöÑÂÅöÊ≥ïÂ≠òÂú®‰∏Ä‰∫õÈóÆÈ¢òÔºåÁ±ª‰ººÁöÑÂÜôÊ≥ïËøòÊòØÊ≥®ÊÑè‰∏Ä‰∏ã„ÄÇ

ÁÆÄÂçïÊèèËø∞‰∏ãÊàë‰ª¨ÊÉ≥‰ºòÂåñÁöÑÁÇπÔºö
1. ‚ù§Ô∏è ‰∏çÊèêÂâçËé∑ÂèñÊï∞ÊçÆÔºå‰øùËØÅÊúÄ‰ºòÁöÑÈÄªËæëÂíåÊÄßËÉΩ
2. ‚ù§Ô∏è `Provider`ÁªÑ‰ª∂Êèê‰æõÊï∞ÊçÆ‰∏ä‰∏ãÊñáÔºåÊï∞ÊçÆÁöÑËé∑Âèñ‰∫§Áªô‰∏öÂä°Áõ∏ÂÖ≥ÁöÑÁªÑ‰ª∂Ôºå‰øùËØÅ‰ª£Á†ÅÁª¥Êä§ÊÄß
3. ‚ù§Ô∏è ÊØè‰∏™ÁªÑ‰ª∂Ë¥£‰ªªÂàíÂàÜÊõ¥Ê∏ÖÊô∞
4. ‚ù§Ô∏è ‰ª•‰∏äÂâçÊèê‰∏ãÔºåÁõ∏ÂêåÁöÑÊé•Âè£Âè™ËØ∑Ê±Ç‰∏ÄÊ¨°Ôºå‰øùËØÅÊï∞ÊçÆÁöÑÂ§çÁî®

#### ContextÔºö‰ºòÂåñ
È¶ñÂÖàÊèêÁÇº‰∏Ä‰∏™`RootProvider`ÁªÑ‰ª∂Ôºö
```js
function RootProvider(props){
    const [data,setData] = useState({});

    const doFetch = useCallback((url)=>{
        if(data[url]) return data[url];
        
        data[url] = {data:null,loading:true,error:null};
        setData({...data});

        fetch(url)
        .then((res)=>{
            data[url] = {data:res.data, loading:false,  error:null};
            setData({...data});
        })
        .catch((e)=>{
            data[url] = {data:null, loading:false, error:e.message};
            setData({...data});
        })
    },[])

    return <Context.Provider value={{doFetch,data}}>{props.children}</Context.Provider>
}
```

Âú®Â≠êÂ≠ôÁªÑ‰ª∂‰∏≠‰ΩøÁî®Ôºö
```js
const url = 'www.baidu.com'
function App(){
    const {doFetch,data} = useRoot();
    doFetch(url);
    const appData = data[url];

    return <>use appData</>
}
```
ËÆ©Êàë‰ª¨Áúã‰∏Ä‰∏ã‰πãÂâçÊÉ≥Ë¶Å‰ºòÂåñÁöÑÁÇπÔºö
1. üëç ‰∏çÊèêÂâçËé∑ÂèñÊï∞ÊçÆÔºå‰øùËØÅÊúÄ‰ºòÁöÑÈÄªËæëÂíåÊÄßËÉΩ
2. üëç `Provider`ÁªÑ‰ª∂Êèê‰æõÊï∞ÊçÆ‰∏ä‰∏ãÊñáÔºåÊï∞ÊçÆÁöÑËé∑Âèñ‰∫§Áªô‰∏öÂä°Áõ∏ÂÖ≥ÁöÑÁªÑ‰ª∂Ôºå‰øùËØÅ‰ª£Á†ÅÁª¥Êä§ÊÄß
3. üëç ÊØè‰∏™ÁªÑ‰ª∂Ë¥£‰ªªÂàíÂàÜÊõ¥Ê∏ÖÊô∞
4. üëç ‰ª•‰∏äÂâçÊèê‰∏ãÔºåÁõ∏ÂêåÁöÑÊé•Âè£Âè™ËØ∑Ê±Ç‰∏ÄÊ¨°Ôºå‰øùËØÅÊï∞ÊçÆÁöÑÂ§çÁî®

Êúâ‰∏ÄÁÇπÈúÄË¶ÅËØ¥‰∏Ä‰∏ãÔºåËøô‰∏™Ê®°ÂºèÁöÑÂÆûÁé∞ÂÖ∂ÂÆûÂπ∂‰∏ç‰∏ÄÂÆöË¶ÅÂÄüÂä©‰∫é`Context`Ôºå`Context`„ÄÅ`localStorage`„ÄÅ`Redux`„ÄÅÂÖ®Â±ÄÂØπË±°Ôºà`window`ÊàñËÄÖËá™ÂÆö‰πâ`cache`ÂÆû‰æãÔºâÈÉΩÂèØ‰ª•ÔºåÂπ∂‰∏çÊãòÊ≥•‰∫éÂΩ¢Âºè„ÄÇ

ÂÆûÈôÖ‰∏äÊàë‰ª¨Áé∞Âú®È°πÁõÆ‰∏≠Êúâ‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÂ∞±ÊòØËøô‰πàÁºìÂ≠òÁöÑÔºåÈÄöËøáËá™ÂÆö‰πâÂÖ®Â±Ä`cache`ÂÆû‰æãÁöÑÊñπÂºèËøõË°å‰øùÂ≠ò„ÄÇ

Ëøô‰∏™ÁºìÂ≠òÊ®°ÂºèÁöÑÊ†∏ÂøÉÊòØ‰ªÄ‰πàÂë¢ÔºüÊàëÂú®‰∏öÂä°ÁªÑ‰ª∂‰∏≠Ëé∑Âèñ‰∏Ä‰ªΩÊï∞ÊçÆÔºåÂ¶ÇÊûúÊúâÊï∞ÊçÆÁºìÂ≠òÔºåÂàôËøîÂõûÊï∞ÊçÆÁºìÂ≠òÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàôËøõË°åÊï∞ÊçÆËØ∑Ê±ÇÔºåËøîÂõû‰∏Ä‰∏™`Promise`„ÄÇ

Âú®Ëß£Êûê`Promise`‰πãÂâçÔºåÂÆÉÂ∞ÜËé∑ÂèñÁöÑÊï∞ÊçÆÂ≠òÂÇ®Âú®ÂÆÉ**Áî®‰∫éÁºìÂ≠òÁöÑ‰ªª‰ΩïÂÜÖÂÆπ‰∏≠**ÔºåËøôÊ†∑ÂΩì`React`Ëß¶ÂèëÈáçÊñ∞Ê∏≤ÊüìÊó∂ÔºåÊï∞ÊçÆÂèØ‰ª•Ë¢´Â§çÁî®„ÄÇËÄÉËôëÂà∞ÁºìÂ≠òÂ§±ÊïàÂíåSSRÁ≠âÈóÆÈ¢òÔºåÂú®ÂÆûÈôÖÂú∫ÊôØ‰∏≠ÂèØËÉΩÊõ¥Âä†Â§çÊùÇÔºå‰∏çËøáÂü∫Êú¨ÁöÑÂÆûÁé∞ÊòØÁ±ª‰ººÁöÑ„ÄÇ

`React`ÂÆòÊñπ‰πüÁªôÂá∫‰∫ÜÊñπÊ°à`react-cache`ÔºåËÆ©Êàë‰ª¨Áúã‰∏Ä‰∏ãÂÆòÊñπÁªôÂá∫ÁöÑÊñπÊ°à

#### `react-cache`
È¶ñÂÖàÁúã‰∏Ä‰∏ãÊòØÊÄé‰πà‰ΩøÁî®ÁöÑ„ÄêËøô‰∏™ÈúÄË¶ÅÁªìÂêà`Suspense`ÁªÑ‰ª∂Ôºå`Suspense`ÁöÑ‰ΩøÁî®Êàë‰ºöÂú®‰∏ãÈù¢ËØ¥ÊòéÔºå‰πüÊòØ‰∏Ä‰∏™‰ºòÂåñÁÇπ„ÄëÔºö
```js
import React,{Suspense} from 'react';
import {createResource} from './react-cache';
import axios from 'axios';

const textResource = createResource(()=>axios.get('https://v1.hitokoto.cn/'))

function CacheView() {
    return <Suspense fallback={"Loading..."}>
        <AsyncText/>
        <AsyncText/>
        <AsyncText/>
        <AsyncText/>
    </Suspense>
}

export default CacheView;

function AsyncText(){
    const result = textResource.read();
    return <div>
        {result.data.hitokoto}
    </div>
}
```
ÂÆûÈôÖËøêË°å‰πãÂêéÔºåÂèØ‰ª•ÂèëÁé∞ÔºåÊúâÂõõ‰∏™Â≠êÁªÑ‰ª∂Ôºå‰ΩÜÊòØÂè™ËøõË°å‰∫Ü‰∏Ä‰ªΩÊï∞ÊçÆËØ∑Ê±ÇÔºåÂõõ‰∏™Â≠êÁªÑ‰ª∂ÁöÑÊï∞ÊçÆÊòØÂÆåÂÖ®Áõ∏ÂêåÁöÑ„ÄêË¢´Â§çÁî®‰∫Ü„Äë„ÄÇ

ÂÖ≥‰∫é`react-cache`ÊàëÊúâÂá†ÁÇπÈúÄË¶ÅËØ¥‰∏Ä‰∏ãÔºö
1. ÂÆòÊñπËôΩÁÑ∂ÂèëÂ∏É‰∫Ü`react-cache`Ëøô‰∏™ÂåÖÔºåÂ¶ÇÊûúÁõ¥Êé•ËøêË°å‰ºöÊä•ÈîôÔºåÊü•‰∫Ü‰∫õÁõ∏ÂÖ≥ËµÑÊñôÔºö
   1. [issues/14780](https://github.com/facebook/react/issues/14780) ÂÆòÊñπÂºÄÂèëËÄÖÂú®ÈáåÈù¢ÂõûÂ§ç‰∫ÜÔºåÁõÆÂâçÂ∏åÊúõ‰ΩøÁî®ÁöÑÊñπÂºèÊòØÊã∑Ë¥ùÊ∫êÁ†ÅÂú®Êú¨Âú∞ÂÆûÁé∞ÔºåÂõ†‰∏∫ÁºìÂ≠òÁ≠ñÁï•Âú®Êú™Êù•ÂèØËÉΩÊúâÊâÄÂèòÂåñÔºåÁõÆÂâçÁöÑÂÆòÊñπÁºìÂ≠òÊñπÊ°àÂπ∂Ê≤°ÊúâÂÜ≥ÂÆö‰∏ãÊù•
   2. [/issues/14575](https://github.com/facebook/react/issues/14575) ËøôÈáåÊúâ‰∫∫ÁªôÂá∫‰∫Ü‰øÆÊîπÊñπÊ°àÔºåÊàëÊîπ‰∫Ü‰πãÂêéÂèØ‰ª•Ê≠£Â∏∏ËøêË°å‰∫ÜÔºåÂπ∂‰∏îÁ¨¶ÂêàÈ¢ÑÊúüÊïàÊûú
2. ÁõÆÂâçÁöÑÂÆûÁé∞Âπ∂‰∏ç‰æùËµñ`Context`ÔºåÊâÄ‰ª•ÂèØ‰ª•Âú®ÁªÑ‰ª∂‰πãÂ§ñ‰ΩøÁî®Ôºå‰ΩÜÊòØÂÆòÊñπÂª∫ËÆÆ„ÄêÊ∫êÁ†ÅÊ≥®ÈáäÈáåÂÜôÁöÑ„ÄëÁõ¥Âà∞ÁºìÂ≠òÁ≠ñÁï•Á°ÆËÆ§‰πãÂâçÔºåËØ∑‰øùËØÅÂè™Âú®ÁªÑ‰ª∂‰∏≠‰ΩøÁî®„ÄÇ

# ÂÖ∂‰ªñ
## ÂéüÂßãÊï∞ÊçÆÂèäÊ†ºÂºèËΩ¨Êç¢

# `React.lazy`(ÁªÑ‰ª∂ÊáíÂä†ËΩΩ)

# ÈáçÊûÑÔºö`getGlobalConst`
## Âéü‰ª£Á†Å
```js
const CACHE = {};
// globalconst
export async function getGlobalConst(options = [], useAPI = false, objectMode = false) {
  if (useAPI === true || CACHE.globalConst === undefined) {
    const res = await Api.get(`/comm/globalConst/all`)
    CACHE.globalConst = res.data;
  }
  const global = _.pick(CACHE.globalConst, options)
  if (_.size(global) !== _.size(options)) return console.log(_.size(global) !== _.size(options))
  if (objectMode) return _.reduce(global, (acc, item, k) => {
    acc[k] = _.map(item, ({ constDisplayName, interiorId, ...rest }) => ({ value: interiorId, text: constDisplayName, ...rest }))
    return acc
  }, {})
  return _.map(global, (item) => _.map(item, ({ constDisplayName, interiorId, ...rest }) => ({ value: interiorId, text: constDisplayName, ...rest })))
}
```

## ÈáçÊûÑ
### Ê†∏ÂøÉÁ±ª`Cache`
```js
import { api as Api } from 'rootnet-core/base'
import { hasData } from 'rootnet-core/system'
import _ from 'lodash'

class Cache {
  constructor() {
    this._value = null
  }

  async getValue() {
    if (!hasData(this._value)) await this.update()
    return this._value
  }

  async getNewestValue() {
    await this.update()
    return this._value
  }
}

export class GlobalConstCache extends Cache {
  async update() {
    this._value = (await Api.get(`/comm/globalConst/all`)).data
  }
}
```

### Êèê‰æõÁöÑË∞ÉÁî®ÊñπÊ≥ï
```js
const GLOBAL_CONST_CACHE = new GlobalConstCache()

export async function getGlobalConstSelectOpsArray(options) {
  const globalData = await getPickGlobalConstData(options)
  return getAllSelectOptionArray(globalData)
}

export async function getGlobalConstSelectOpsObject(options) {
  const globalData = await getPickGlobalConstData(options)
  return getAllSelectOptionObject(globalData)
}

export async function getNewestGlobalConstSelectOpsArray(options) {
  await GLOBAL_CONST_CACHE.update()
  const globalData = await getPickGlobalConstData(options)
  return getAllSelectOptionArray(globalData)
}

export async function getNewestGlobalConstSelectOpsObject(options) {
  await GLOBAL_CONST_CACHE.update()
  const globalData = await getPickGlobalConstData(options)
  return getAllSelectOptionObject(globalData)
}
```

### ÊäΩÁ¶ªÁöÑÂ∑•ÂÖ∑ÊñπÊ≥ï
```js
async function getPickGlobalConstData(options) {
  const data = await GLOBAL_CONST_CACHE.getValue()
  const globalData = pickGlobalData(data, options)
  checkDataSize(globalData, options)
  return globalData
}

function checkDataSize(globalData, options) {
  if (_.size(globalData) !== _.size(options)) throw new Error('ËøîÂõûÊï∞ÊçÆÊï∞ÈáèÂ∫îÂΩì‰∏éËØ∑Ê±ÇÊï∞Èáè‰∏ÄËá¥ÔºÅ')
}

function pickGlobalData(data, options) {
  return _.pick(data, options)
}

function getAllSelectOptionArray(global) {
  return _.map(global, getSelectOption)
}

function getAllSelectOptionObject(global) {
  return _.reduce(
    global,
    (acc, item, k) => {
      acc[k] = getSelectOption(item)
      return acc
    },
    {}
  )
}

function getSelectOption(item) {
  return _.map(item, ({ constDisplayName, interiorId, ...rest }) => ({ value: interiorId, text: constDisplayName, ...rest }))
}
```